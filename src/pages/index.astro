---
import Layout from '../layouts/Layout.astro';
import { client } from '../lib/microcms';

const pageTitle = "江東区・清澄白河の出張ピアノレッスン | 髙橋遊月ピアノ教室";
const pageDescription = "江東区・清澄白河エリアを中心に活動する講師による出張ピアノ教室です。";

const response = await client.get({
  endpoint: "news",
  queries: { limit: 3, fields: ["id", "title", "publishedAt"] }
});
const newsContents = response.contents;
---

<Layout title={pageTitle} description={pageDescription}>
  {/* ラグジュアリーテーマ用のスタイル調整 */}
  <style is:global>
    body {
        background-color: #ffffff !important;
        color: #4a4a4a !important;
    }
    .text-gold {
        color: #bfa57d;
    }
    .bg-gold-light {
        background-color: #f9f7f2;
    }
  </style>

  <main class="font-serif">
    
    {/* Hero Section */}
    <section class="h-[90vh] flex items-center justify-center relative bg-[#fcfcfc]">
        <div class="absolute inset-x-8 top-8 bottom-8 border border-[#e5e5e5] z-0 pointer-events-none"></div>
        <div class="absolute right-12 top-1/2 -translate-y-1/2 hidden lg:block writing-mode-vertical text-xs tracking-[0.5em] text-[#bfa57d] uppercase">
            Yuzuki Takahashi Piano School
        </div>

        <div class="text-center z-10 px-6">
            <p class="text-[#bfa57d] text-sm tracking-[0.4em] mb-8 uppercase">Private Lesson</p>
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-light text-[#2a2a2a] mb-10 leading-snug tracking-wider">
                日常に彩りを添える、<br/>
                <span class="italic font-serif text-5xl md:text-7xl lg:text-8xl text-[#bfa57d] opacity-50 block mt-2 -rotate-2">Timeless Music</span>
            </h1>
            <p class="text-sm md:text-base text-gray-500 leading-loose font-sans tracking-wide">
                江東区・清澄白河エリアの出張レッスン<br/>
                心豊かなピアノの時間をご自宅で
            </p>
        </div>
        
        <div class="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-white to-transparent -z-10"></div>
    </section>
    
    {/* News Section */}
    <section class="py-24 px-6 max-w-4xl mx-auto relative">
      <div class="text-center mb-16">
        <span class="block w-px h-16 bg-[#bfa57d] mx-auto mb-6"></span>
        <h2 class="text-3xl font-normal text-[#2a2a2a] italic">News</h2>
      </div>

      <div class="space-y-8">
        {newsContents.length > 0 ? (
          newsContents.map((item: any) => (
            <a href={`/news/${item.id}`} class="block group">
              <div class="flex items-baseline border-b border-[#e5e5e5] pb-4 transition-all group-hover:border-[#bfa57d]">
                <span class="text-xs text-[#bfa57d] w-32 font-sans">
                  {new Date(item.publishedAt).toLocaleDateString('ja-JP')}
                </span>
                <span class="text-base text-[#4a4a4a] group-hover:text-[#bfa57d] transition-colors font-medium flex-1">
                  {item.title}
                </span>
                <span class="text-xs text-[#e5e5e5] group-hover:text-[#bfa57d] transition-colors ml-4">View</span>
              </div>
            </a>
          ))
        ) : (
          <p class="text-center text-gray-400 text-sm font-sans">お知らせはありません</p>
        )}
      </div>
      <div class="text-center mt-12">
        <a href="/news" class="text-[10px] tracking-[0.3em] text-[#bfa57d] hover:text-[#9e8661] uppercase border-b border-transparent hover:border-[#bfa57d] transition-all pb-1">All Information</a>
      </div>
    </section>

    {/* Instructor Section */}
    <section class="py-32 bg-gold-light relative overflow-hidden">
      <div class="absolute -left-20 top-20 text-[200px] leading-none text-white font-serif italic select-none opacity-80 pointer-events-none">
        Profile
      </div>
      <div class="max-w-6xl mx-auto px-6 relative z-10">
        <div class="flex flex-col md:flex-row items-center gap-16 md:gap-24">
          <div class="w-full md:w-1/2">
            <div class="aspect-[3/4] overflow-hidden relative">
              <img src="/senzai.png" alt="高橋遊月" class="w-full h-full object-cover transition-transform duration-700 hover:scale-105"/>
              <div class="absolute inset-0 border-[1px] border-[#bfa57d] m-4 pointer-events-none"></div>
            </div>
          </div>
          <div class="w-full md:w-1/2 text-center md:text-left">
            <h3 class="text-4xl font-normal mb-2 text-[#2a2a2a]">高橋 遊月</h3>
            <p class="text-[#bfa57d] italic font-light text-xl mb-10">Yuzuki Takahashi</p>
            
            <div class="space-y-8 font-sans text-[15px] leading-8 text-[#5a5a5a]">
              <p class="font-medium tracking-wide">東京音楽大学 卒業</p>
              <p>
                江東区・清澄白河エリアを中心とした出張ピアノレッスン。<br/>
                多くの門下生との出会いの中で、技術だけでなく、<br class="hidden md:inline"/>音楽を通じた「心の交流」を何より大切にしてきました。
              </p>
              <p>
                いつものピアノ、いつもの場所で。<br/>
                リラックスした雰囲気の中で奏でる音楽は、<br class="hidden md:inline"/>きっとあなたの生活をより豊かに輝かせてくれるはずです。
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    {/* Movie Section */}
    <section class="py-32 px-6">
      <div class="max-w-5xl mx-auto">
        <div class="flex items-center justify-between mb-12">
           <h2 class="text-3xl font-normal italic text-[#2a2a2a]">Movie</h2>
           <span class="h-px bg-[#e5e5e5] flex-1 ml-8"></span>
        </div>
        
        <div class="relative p-2 bg-white shadow-[0_20px_40px_rgba(0,0,0,0.05)]">
            <div class="aspect-video w-full overflow-hidden">
            <iframe 
                src="https://www.youtube.com/embed/8iY5cbtwxiM?si=zOM7JXIwvIrbpg-_" 
                title="YouTube video player" 
                class="w-full h-full"
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                referrerpolicy="strict-origin-when-cross-origin" 
                allowfullscreen>
            </iframe>
            </div>
        </div>
        <p class="text-center mt-8 font-sans text-sm text-[#888]">レッスンの雰囲気や演奏の様子をご覧ください</p>
      </div>
    </section>

    {/* Fees & Area (Combined for elegant flow) */}
    <section class="py-32 bg-[#2a2a2a] text-white">
      <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-20">
        {/* Fees */}
        <div>
            <h2 class="text-2xl italic text-[#bfa57d] mb-12">Lesson Fees</h2>
            <div class="space-y-6 font-sans">
                <div class="flex justify-between items-center border-b border-white/10 pb-4">
                    <span class="text-sm tracking-wider">30 Minutes</span>
                    <span class="text-xl">¥5,000</span>
                </div>
                <div class="flex justify-between items-center border-b border-white/10 pb-4">
                    <span class="text-sm tracking-wider">45 Minutes</span>
                    <span class="text-xl">¥7,500</span>
                </div>
                <div class="flex justify-between items-center border-b border-white/10 pb-4">
                    <span class="text-sm tracking-wider">60 Minutes</span>
                    <span class="text-xl">¥10,000</span>
                </div>
            </div>
            <div class="mt-8">
                <a href="/lesson" class="text-xs text-[#bfa57d] border border-[#bfa57d] px-8 py-3 hover:bg-[#bfa57d] hover:text-white transition-all uppercase tracking-widest inline-block">
                    View System
                </a>
            </div>
        </div>

        {/* Area */}
        <div>
            <h2 class="text-2xl italic text-[#bfa57d] mb-12">Service Area</h2>
            <p class="font-sans text-sm leading-loose text-gray-300 mb-8">
                清澄白河・門前仲町周辺<br/>
                <span class="text-xs opacity-60">※講師が公共交通機関等で移動可能な範囲</span>
            </p>
            <div class="flex flex-wrap gap-x-6 gap-y-3 font-sans text-sm text-gray-400">
                {["清澄白河", "門前仲町", "木場", "深川", "森下", "白河", "三好"].map(area => (
                    <span>{area}</span>
                ))}
            </div>
             <div class="mt-8 aspect-video w-full opacity-60 hover:opacity-100 transition-opacity">
                <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.066480572621!2d139.79634597628873!3d35.682701130107765!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188944510b6563%3A0xc3f7a63d91965a39!2z5riF5r6E55m95rKz6aeF!5e0!3m2!1sja!2sjp!4v1711234567890!5m2!1sja!2sjp" 
                width="100%" 
                height="100%" 
                style="border:0;"
                loading="lazy"
                title="Map">
                </iframe>
            </div>
        </div>
      </div>
    </section>

    {/* Contact Section */}
    <section class="py-40 bg-[#fcfcfc] text-center">
      <div class="max-w-2xl mx-auto px-6">
        <h2 class="text-5xl font-light mb-8 text-[#2a2a2a]">Contact</h2>
        <div class="w-12 h-px bg-[#bfa57d] mx-auto mb-10"></div>
        <p class="mb-12 text-sm text-[#5a5a5a] font-sans leading-loose tracking-wider">
            音楽のある豊かな暮らしを、ここから。<br/>
            体験レッスンのお申し込みもお待ちしております。
        </p>
        
        <a href="/contact" class="inline-block bg-[#2a2a2a] text-white px-16 py-5 hover:bg-[#bfa57d] transition-colors shadow-xl text-sm uppercase tracking-[0.2em]">
            Contact Form
        </a>
      </div>
    </section>

  </main>
</Layout>