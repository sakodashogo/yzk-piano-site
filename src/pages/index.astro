---
import Layout from '../layouts/Layout.astro';
import { client } from '../lib/microcms';

const pageTitle = "江東区・清澄白河の出張ピアノレッスン | 髙橋遊月ピアノ教室";
const pageDescription = "江東区・清澄白河エリアを中心に活動する講師による出張ピアノ教室です。";

const response = await client.get({
  endpoint: "news",
  queries: { limit: 3, fields: ["id", "title", "publishedAt"] }
});
const newsContents = response.contents;
---

<Layout title={pageTitle} description={pageDescription}>
  {/* クラシックラグジュアリー用のスタイル上書き */}
  <style is:global>
    body {
      background-color: #fdfbf7 !important;
      color: #544e45 !important;
    }
    .font-classic {
      font-family: "Shippori Mincho", serif;
    }
    .border-double-frame {
      border: 4px double #d6cbb6;
    }
  </style>

  <main class="font-classic">
    
    {/* Hero Section */}
    <section class="h-[90vh] flex flex-col justify-center items-center relative p-8">
      <div class="absolute inset-4 border-double-frame pointer-events-none z-20"></div>
      
      <div class="relative z-10 text-center max-w-3xl">
        <div class="mb-10 inline-block">
            <img src="/logo-placeholder.png" alt="" class="w-16 h-16 mx-auto opacity-0" /> {/* スペース用 */}
            <p class="text-[#8c7b64] text-xs tracking-[0.5em] uppercase border-b border-[#d6cbb6] pb-2 inline-block">
                Private Piano Lesson
            </p>
        </div>
        
        <h1 class="text-4xl md:text-6xl font-medium mb-12 text-[#2c2825] leading-normal tracking-wide">
          日常に彩りを添える、<br/>
          <span class="italic text-[#8c7b64] block mt-4 font-normal">心豊かなピアノの時間</span>
        </h1>
    
        <p class="text-[#6e6659] text-sm leading-loose tracking-widest font-sans">
          江東区・清澄白河エリアの出張レッスン<br/>
          あなたの大切なピアノで、あなただけの音色を
        </p>
      </div>

      <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 z-20">
        <div class="w-px h-16 bg-[#d6cbb6] mx-auto"></div>
      </div>
      
      {/* 背景画像（薄くブレンド） */}
      <div class="absolute inset-0 z-0 opacity-10 mix-blend-multiply">
        <img 
          src="https://images.unsplash.com/photo-1552422535-c45813c61732?q=80&w=2070&auto=format&fit=crop" 
          alt="" 
          class="w-full h-full object-cover"
        />
      </div>
    </section>
    
    {/* News Section */}
    <section class="py-24 px-8 max-w-4xl mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-2xl text-[#2c2825] mb-2 font-medium">News & Topics</h2>
        <img src="/favicon.svg" class="w-4 h-4 mx-auto opacity-20 my-4" />
      </div>

      <div class="bg-white p-8 md:p-12 shadow-[0_4px_20px_rgba(0,0,0,0.03)] border border-[#efeadd]">
        {newsContents.length > 0 ? (
          <div class="divide-y divide-[#efeadd]">
            {newsContents.map((item: any) => (
            <a href={`/news/${item.id}`} class="block py-6 group hover:bg-[#fcfaf7] -mx-4 px-4 transition-colors">
              <div class="flex flex-col md:flex-row md:items-baseline gap-4">
                <span class="text-xs text-[#8c7b64] font-serif italic w-32">
                  {new Date(item.publishedAt).toLocaleDateString('ja-JP')}
                </span>
                <span class="text-base text-[#544e45] group-hover:text-[#8c7b64] transition-colors flex-1">
                  {item.title}
                </span>
                <span class="text-[10px] text-[#d6cbb6] uppercase tracking-widest group-hover:text-[#8c7b64]">Read</span>
              </div>
            </a>
            ))}
          </div>
        ) : (
          <p class="text-center text-[#8c7b64] text-sm italic">お知らせはありません</p>
        )}
        <div class="mt-8 text-right">
            <a href="/news" class="text-xs text-[#8c7b64] border-b border-[#8c7b64] pb-1 hover:opacity-70 transition-opacity">View All List</a>
        </div>
      </div>
    </section>

    {/* Instructor Section */}
    <section class="py-24 bg-white relative">
      <div class="max-w-5xl mx-auto px-8">
        <div class="flex flex-col md:flex-row items-center gap-16">
          <div class="w-full md:w-1/2">
            <div class="p-3 border-double-frame rotate-1 shadow-xl bg-white">
                <div class="aspect-[4/5] overflow-hidden -rotate-1">
                    <img src="/senzai.png" alt="高橋遊月" class="w-full h-full object-cover sepia-[0.3]"/>
                </div>
            </div>
          </div>
          <div class="w-full md:w-1/2 text-center md:text-left">
            <h3 class="text-4xl font-medium mb-2 text-[#2c2825]">高橋 遊月</h3>
            <p class="text-[#8c7b64] font-serif italic text-lg mb-8">Yuzuki Takahashi</p>
            
            <div class="space-y-6 text-[#544e45] leading-9 text-sm font-sans tracking-wide">
              <p class="font-bold text-[#8c7b64]">東京音楽大学 卒業</p>
              <p>
                江東区・清澄白河を中心に、ご自宅への出張ピアノレッスンを行っております。
                これまで多くの門下生を指導し、音楽を通じた心の交流を大切にしてきました。
              </p>
              <p>
                「出張レッスン」だからこそ、移動の負担なく、いつもの慣れ親しんだピアノでリラックスして学んでいただけます。
                きめ細やかな指導で、技術だけでなく、音楽を一生のパートナーにするお手伝いをいたします。
              </p>
            </div>
            
            <div class="mt-10 pt-10 border-t border-[#efeadd]">
                <p class="font-serif italic text-[#8c7b64] text-center md:text-left">
                    "穏やかで上質な時間を提供いたします。"
                </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    {/* Movie Section */}
    <section class="py-24 px-8 bg-[#fdfbf7]">
      <div class="max-w-3xl mx-auto">
        <div class="text-center mb-12">
            <span class="text-[#8c7b64] text-xs uppercase tracking-[0.3em] block mb-2">Introduction</span>
            <h2 class="text-3xl text-[#2c2825] font-medium">Movie</h2>
        </div>
        
        <div class="p-4 bg-white shadow-xl border border-[#efeadd]">
            <div class="aspect-video w-full">
            <iframe 
                src="https://www.youtube.com/embed/8iY5cbtwxiM?si=zOM7JXIwvIrbpg-_" 
                title="YouTube video player" 
                class="w-full h-full"
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                referrerpolicy="strict-origin-when-cross-origin" 
                allowfullscreen>
            </iframe>
            </div>
        </div>
      </div>
    </section>

    {/* Fees Section */}
    <section class="py-32 bg-[#2c2825] text-white">
      <div class="max-w-4xl mx-auto px-8">
        <div class="border border-[#8c7b64] p-2">
            <div class="border border-[#8c7b64] p-12 md:p-20 text-center relative">
                <h2 class="text-3xl font-serif mb-16 text-[#e5dccf]">Lesson Fees</h2>
                
                <div class="grid md:grid-cols-3 gap-8 mb-16">
                    <div class="border-b border-[#544e45] pb-6">
                        <span class="block text-[#8c7b64] text-xs mb-2 tracking-widest">30 MIN</span>
                        <span class="text-2xl font-serif">¥5,000</span>
                    </div>
                    <div class="border-b border-[#544e45] pb-6">
                        <span class="block text-[#8c7b64] text-xs mb-2 tracking-widest">45 MIN</span>
                        <span class="text-2xl font-serif">¥7,500</span>
                    </div>
                    <div class="border-b border-[#544e45] pb-6">
                        <span class="block text-[#8c7b64] text-xs mb-2 tracking-widest">60 MIN</span>
                        <span class="text-2xl font-serif">¥10,000</span>
                    </div>
                </div>

                <p class="text-[#9e9488] text-sm leading-loose font-sans mb-12">
                    月1回〜4回まで、ライフスタイルに合わせて受講頻度をお選びいただけます。<br/>
                    入会金や教材費については詳細ページをご覧ください。
                </p>

                <a href="/lesson" class="inline-block bg-[#8c7b64] text-white px-8 py-3 hover:bg-[#a3937a] transition-colors text-xs tracking-[0.2em] font-sans">
                    詳細を見る
                </a>
            </div>
        </div>
      </div>
    </section>

    {/* Area Section */}
    <section class="py-24 px-8 bg-white">
        <div class="max-w-5xl mx-auto text-center">
            <h2 class="text-2xl text-[#2c2825] font-medium mb-12">Service Area</h2>
            
            <p class="text-[#544e45] text-sm leading-loose mb-12 font-sans">
                江東区 <span class="text-[#8c7b64] font-bold">清澄白河・門前仲町</span> エリア<br/>
                講師が自転車または公共交通機関で伺える範囲
            </p>
            
            <div class="flex flex-wrap justify-center gap-4 mb-12 max-w-2xl mx-auto">
                {["清澄白河", "門前仲町", "木場", "深川", "森下", "白河", "三好", "平野", "佐賀", "永代", "福住", "冬木"].map(area => (
                    <span class="text-sm text-[#544e45] px-2 font-serif italic relative after:content-['/'] after:absolute after:-right-2 after:text-[#d6cbb6] last:after:hidden">
                    {area}
                    </span>
                ))}
            </div>

             <div class="h-[300px] w-full max-w-3xl mx-auto grayscale opacity-80 border border-[#efeadd] p-2">
                 <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3241.066480572621!2d139.79634597628873!3d35.682701130107765!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188944510b6563%3A0xc3f7a63d91965a39!2z5riF5r6E55m95rKz6aeF!5e0!3m2!1sja!2sjp!4v1711234567890!5m2!1sja!2sjp" 
                    width="100%" 
                    height="100%" 
                    style="border:0;"
                    allowfullscreen="" 
                    loading="lazy"
                    title="清澄白河駅周辺地図">
                </iframe>
            </div>
        </div>
    </section>

    {/* Contact Section */}
    <section id="contact" class="py-32 bg-[#f9f7f2]">
      <div class="max-w-xl mx-auto px-8 text-center">
        <div class="mb-10">
            <h2 class="text-3xl font-medium text-[#2c2825]">Contact</h2>
            <div class="w-8 h-px bg-[#8c7b64] mx-auto mt-4"></div>
        </div>
        <p class="mb-12 text-sm text-[#544e45] leading-loose tracking-wider font-sans">
            体験レッスンのお申し込みや、レッスンに関するご質問など、<br/>
            お気軽にお問い合わせください。
        </p>
        
        <a href="/contact" class="inline-block border border-[#2c2825] text-[#2c2825] px-16 py-4 hover:bg-[#2c2825] hover:text-white transition-all tracking-[0.2em] text-xs">
            お問い合わせ
        </a>
      </div>
    </section>

  </main>
</Layout>